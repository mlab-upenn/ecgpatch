   1               		.file	"nrk_error.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.global __do_copy_data
   8               		.global __do_clear_bss
  11               		.text
  12               	.Ltext0:
 134               	.global	_nrk_errno_set
 136               	_nrk_errno_set:
 137               		.stabd	46,0,0
   1:../../src/kernel/source/nrk_error.c **** /******************************************************************************
   2:../../src/kernel/source/nrk_error.c **** *  Nano-RK, a real-time operating system for sensor networks.
   3:../../src/kernel/source/nrk_error.c **** *  Copyright (C) 2007, Real-Time and Multimedia Lab, Carnegie Mellon University
   4:../../src/kernel/source/nrk_error.c **** *  All rights reserved.
   5:../../src/kernel/source/nrk_error.c **** *
   6:../../src/kernel/source/nrk_error.c **** *  This is the Open Source Version of Nano-RK included as part of a Dual
   7:../../src/kernel/source/nrk_error.c **** *  Licensing Model. If you are unsure which license to use please refer to:
   8:../../src/kernel/source/nrk_error.c **** *  http://www.nanork.org/nano-RK/wiki/Licensing
   9:../../src/kernel/source/nrk_error.c **** *
  10:../../src/kernel/source/nrk_error.c **** *  This program is free software: you can redistribute it and/or modify
  11:../../src/kernel/source/nrk_error.c **** *  it under the terms of the GNU General Public License as published by
  12:../../src/kernel/source/nrk_error.c **** *  the Free Software Foundation, version 2.0 of the License.
  13:../../src/kernel/source/nrk_error.c **** *
  14:../../src/kernel/source/nrk_error.c **** *  This program is distributed in the hope that it will be useful,
  15:../../src/kernel/source/nrk_error.c **** *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  16:../../src/kernel/source/nrk_error.c **** *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  17:../../src/kernel/source/nrk_error.c **** *  GNU General Public License for more details.
  18:../../src/kernel/source/nrk_error.c **** *
  19:../../src/kernel/source/nrk_error.c **** *  You should have received a copy of the GNU General Public License
  20:../../src/kernel/source/nrk_error.c **** *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  21:../../src/kernel/source/nrk_error.c **** *
  22:../../src/kernel/source/nrk_error.c **** *  Contributing Authors (specific to this file):
  23:../../src/kernel/source/nrk_error.c **** *  Anthony Rowe
  24:../../src/kernel/source/nrk_error.c **** *  Zane Starr
  25:../../src/kernel/source/nrk_error.c **** *  Anand Eswaren
  26:../../src/kernel/source/nrk_error.c **** *******************************************************************************/
  27:../../src/kernel/source/nrk_error.c ****  
  28:../../src/kernel/source/nrk_error.c **** #include <nrk_error.h>
  29:../../src/kernel/source/nrk_error.c **** #include <stdio.h>
  30:../../src/kernel/source/nrk_error.c **** #include <nrk.h>
  31:../../src/kernel/source/nrk_error.c **** #include <nrk_task.h>
  32:../../src/kernel/source/nrk_error.c **** #include <nrk_cfg.h>
  33:../../src/kernel/source/nrk_error.c **** #include <nrk_timer.h>
  34:../../src/kernel/source/nrk_error.c **** 
  35:../../src/kernel/source/nrk_error.c **** void _nrk_errno_set (NRK_ERRNO error_code) 
  36:../../src/kernel/source/nrk_error.c **** {
 139               	.LM0:
 140               	.LFBB1:
 141               	/* prologue: frame size=0 */
 142               	/* prologue end (size=0) */
  37:../../src/kernel/source/nrk_error.c ****   nrk_cur_task_TCB->errno = error_code;
 144               	.LM1:
 145 0000 E091 0000 		lds r30,nrk_cur_task_TCB
 146 0004 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 147 0008 8487      		std Z+12,r24
 148               	/* epilogue: frame size=0 */
 149 000a 0895      		ret
 150               	/* epilogue end (size=1) */
 151               	/* function _nrk_errno_set size 6 (5) */
 153               	.Lscope1:
 155               		.stabd	78,0,0
 157               	.global	nrk_errno_get
 159               	nrk_errno_get:
 160               		.stabd	46,0,0
  38:../../src/kernel/source/nrk_error.c **** } 
  39:../../src/kernel/source/nrk_error.c **** 
  40:../../src/kernel/source/nrk_error.c **** uint8_t nrk_errno_get () 
  41:../../src/kernel/source/nrk_error.c **** {
 162               	.LM2:
 163               	.LFBB2:
 164               	/* prologue: frame size=0 */
 165               	/* prologue end (size=0) */
 166 000c E091 0000 		lds r30,nrk_cur_task_TCB
 167 0010 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 168 0014 8485      		ldd r24,Z+12
  42:../../src/kernel/source/nrk_error.c ****   return nrk_cur_task_TCB->errno;
  43:../../src/kernel/source/nrk_error.c **** }
 170               	.LM3:
 171 0016 9927      		clr r25
 172               	/* epilogue: frame size=0 */
 173 0018 0895      		ret
 174               	/* epilogue end (size=1) */
 175               	/* function nrk_errno_get size 7 (6) */
 177               	.Lscope2:
 179               		.stabd	78,0,0
 183               	.global	nrk_error_get
 185               	nrk_error_get:
 186               		.stabd	46,0,0
  44:../../src/kernel/source/nrk_error.c **** 
  45:../../src/kernel/source/nrk_error.c **** void nrk_error_add (uint8_t n) 
  46:../../src/kernel/source/nrk_error.c **** {
  47:../../src/kernel/source/nrk_error.c ****   error_num = n;
  48:../../src/kernel/source/nrk_error.c ****   error_task = nrk_cur_task_TCB->task_ID;
  49:../../src/kernel/source/nrk_error.c ****   
  50:../../src/kernel/source/nrk_error.c **** #ifdef NRK_REPORT_ERRORS
  51:../../src/kernel/source/nrk_error.c ****     nrk_error_print ();
  52:../../src/kernel/source/nrk_error.c ****   
  53:../../src/kernel/source/nrk_error.c **** #endif  /*  */
  54:../../src/kernel/source/nrk_error.c **** } void nrk_kernel_error_add (uint8_t n, uint8_t task) 
  55:../../src/kernel/source/nrk_error.c **** {
  56:../../src/kernel/source/nrk_error.c ****   error_num = n;
  57:../../src/kernel/source/nrk_error.c ****   error_task = task;
  58:../../src/kernel/source/nrk_error.c ****   
  59:../../src/kernel/source/nrk_error.c **** #ifdef NRK_REPORT_ERRORS
  60:../../src/kernel/source/nrk_error.c ****     nrk_error_print ();
  61:../../src/kernel/source/nrk_error.c ****   
  62:../../src/kernel/source/nrk_error.c **** #endif  /*  */
  63:../../src/kernel/source/nrk_error.c **** } 
  64:../../src/kernel/source/nrk_error.c **** 
  65:../../src/kernel/source/nrk_error.c **** 
  66:../../src/kernel/source/nrk_error.c **** uint8_t nrk_error_get (uint8_t * task_id, uint8_t * code) 
  67:../../src/kernel/source/nrk_error.c **** {
 188               	.LM4:
 189               	.LFBB3:
 190               	/* prologue: frame size=0 */
 191               	/* prologue end (size=0) */
 192 001a DC01      		movw r26,r24
 193 001c FB01      		movw r30,r22
  68:../../src/kernel/source/nrk_error.c ****   if (error_num == 0)
 195               	.LM5:
 196 001e 8091 0000 		lds r24,error_num
 197 0022 8823      		tst r24
 198 0024 01F4      		brne .L6
 200               	.LM6:
 201 0026 80E0      		ldi r24,lo8(0)
 202 0028 90E0      		ldi r25,hi8(0)
 203 002a 0895      		ret
 204               	.L6:
  69:../../src/kernel/source/nrk_error.c ****     return 0;
  70:../../src/kernel/source/nrk_error.c ****   *code = error_num;
 206               	.LM7:
 207 002c 8083      		st Z,r24
  71:../../src/kernel/source/nrk_error.c ****   *task_id = error_task;
 209               	.LM8:
 210 002e 8091 0000 		lds r24,error_task
 211 0032 8C93      		st X,r24
 212 0034 81E0      		ldi r24,lo8(1)
 213 0036 90E0      		ldi r25,hi8(1)
  72:../../src/kernel/source/nrk_error.c ****   return 1;
  73:../../src/kernel/source/nrk_error.c **** }
 215               	.LM9:
 216 0038 0895      		ret
 217               	/* epilogue: frame size=0 */
 218               	/* epilogue: noreturn */
 219               	/* epilogue end (size=0) */
 220               	/* function nrk_error_get size 16 (16) */
 222               	.Lscope3:
 224               		.stabd	78,0,0
 225               		.data
 226               	.LC0:
 227 0000 2564 00   		.string	"%d"
 228               		.text
 230               	.global	nrk_error_print
 232               	nrk_error_print:
 233               		.stabd	46,0,0
  74:../../src/kernel/source/nrk_error.c **** 
  75:../../src/kernel/source/nrk_error.c **** int8_t nrk_error_print () 
  76:../../src/kernel/source/nrk_error.c **** {
 235               	.LM10:
 236               	.LFBB4:
 237               	/* prologue: frame size=0 */
 238 003a 2F92      		push r2
 239 003c 3F92      		push r3
 240 003e 4F92      		push r4
 241 0040 5F92      		push r5
 242 0042 6F92      		push r6
 243 0044 7F92      		push r7
 244 0046 8F92      		push r8
 245 0048 9F92      		push r9
 246 004a AF92      		push r10
 247 004c BF92      		push r11
 248 004e CF92      		push r12
 249 0050 DF92      		push r13
 250 0052 EF92      		push r14
 251 0054 FF92      		push r15
 252 0056 1F93      		push r17
 253 0058 CF93      		push r28
 254 005a DF93      		push r29
 255               	/* prologue end (size=17) */
  77:../../src/kernel/source/nrk_error.c ****   int8_t t;
  78:../../src/kernel/source/nrk_error.c ****   if (error_num == 0)
 257               	.LM11:
 258 005c 8091 0000 		lds r24,error_num
 259 0060 8823      		tst r24
 260 0062 01F4      		brne .+2
 261 0064 00C0      		rjmp .L41
  79:../../src/kernel/source/nrk_error.c ****     return 0;
  80:../../src/kernel/source/nrk_error.c ****  
  81:../../src/kernel/source/nrk_error.c ****    #ifdef NRK_HALT_ON_ERROR
  82:../../src/kernel/source/nrk_error.c ****      nrk_int_disable ();
  83:../../src/kernel/source/nrk_error.c ****        #ifdef NRK_WATCHDOG
  84:../../src/kernel/source/nrk_error.c ****          nrk_watchdog_disable();
  85:../../src/kernel/source/nrk_error.c ****        #endif
  86:../../src/kernel/source/nrk_error.c ****    #endif 
  87:../../src/kernel/source/nrk_error.c **** 
  88:../../src/kernel/source/nrk_error.c ****    #ifndef NRK_REBOOT_ON_ERROR
  89:../../src/kernel/source/nrk_error.c ****       nrk_int_disable ();
 263               	.LM12:
 264 0066 0E94 0000 		call nrk_int_disable
  90:../../src/kernel/source/nrk_error.c ****    #endif 
  91:../../src/kernel/source/nrk_error.c **** 
  92:../../src/kernel/source/nrk_error.c **** 
  93:../../src/kernel/source/nrk_error.c **** #ifdef NRK_HALT_AND_LOOP_ON_ERROR 
  94:../../src/kernel/source/nrk_error.c ****     nrk_int_disable ();
 266               	.LM13:
 267 006a 0E94 0000 		call nrk_int_disable
  95:../../src/kernel/source/nrk_error.c ****    #ifdef NRK_WATCHDOG
  96:../../src/kernel/source/nrk_error.c ****       nrk_watchdog_disable();
  97:../../src/kernel/source/nrk_error.c ****    #endif
  98:../../src/kernel/source/nrk_error.c **** 
  99:../../src/kernel/source/nrk_error.c ****   while (1)
 100:../../src/kernel/source/nrk_error.c ****      {
 101:../../src/kernel/source/nrk_error.c ****     
 102:../../src/kernel/source/nrk_error.c **** #endif  
 103:../../src/kernel/source/nrk_error.c ****     
 104:../../src/kernel/source/nrk_error.c ****     nrk_kprintf (PSTR ("*NRK ERROR("));
 105:../../src/kernel/source/nrk_error.c ****     printf ("%d", error_task);
 269               	.LM14:
 270 006e 60E0      		ldi r22,lo8(__c.2348)
 271 0070 262E      		mov r2,r22
 272 0072 60E0      		ldi r22,hi8(__c.2348)
 273 0074 362E      		mov r3,r22
 274 0076 50E0      		ldi r21,lo8(__c.2345)
 275 0078 452E      		mov r4,r21
 276 007a 50E0      		ldi r21,hi8(__c.2345)
 277 007c 552E      		mov r5,r21
 278 007e 40E0      		ldi r20,lo8(__c.2342)
 279 0080 642E      		mov r6,r20
 280 0082 40E0      		ldi r20,hi8(__c.2342)
 281 0084 742E      		mov r7,r20
 282 0086 30E0      		ldi r19,lo8(__c.2339)
 283 0088 832E      		mov r8,r19
 284 008a 30E0      		ldi r19,hi8(__c.2339)
 285 008c 932E      		mov r9,r19
 286 008e 20E0      		ldi r18,lo8(__c.2336)
 287 0090 A22E      		mov r10,r18
 288 0092 20E0      		ldi r18,hi8(__c.2336)
 289 0094 B22E      		mov r11,r18
 290 0096 90E0      		ldi r25,lo8(__c.2333)
 291 0098 C92E      		mov r12,r25
 292 009a 90E0      		ldi r25,hi8(__c.2333)
 293 009c D92E      		mov r13,r25
 294 009e 80E0      		ldi r24,lo8(__c.2330)
 295 00a0 E82E      		mov r14,r24
 296 00a2 80E0      		ldi r24,hi8(__c.2330)
 297 00a4 F82E      		mov r15,r24
 298 00a6 C0E0      		ldi r28,lo8(__c.2326)
 299 00a8 D0E0      		ldi r29,hi8(__c.2326)
 300               	.L13:
 302               	.LM15:
 303 00aa 80E0      		ldi r24,lo8(__c.2321)
 304 00ac 90E0      		ldi r25,hi8(__c.2321)
 305 00ae 0E94 0000 		call nrk_kprintf
 307               	.LM16:
 308 00b2 8091 0000 		lds r24,error_task
 309 00b6 9927      		clr r25
 310 00b8 9F93      		push r25
 311 00ba 8F93      		push r24
 312 00bc 80E0      		ldi r24,lo8(.LC0)
 313 00be 90E0      		ldi r25,hi8(.LC0)
 314 00c0 9F93      		push r25
 315 00c2 8F93      		push r24
 316 00c4 0E94 0000 		call printf
 106:../../src/kernel/source/nrk_error.c ****     nrk_kprintf (PSTR ("): "));
 318               	.LM17:
 319 00c8 80E0      		ldi r24,lo8(__c.2323)
 320 00ca 90E0      		ldi r25,hi8(__c.2323)
 321 00cc 0E94 0000 		call nrk_kprintf
 107:../../src/kernel/source/nrk_error.c ****     if (error_num > NRK_NUM_ERRORS)
 323               	.LM18:
 324 00d0 0F90      		pop __tmp_reg__
 325 00d2 0F90      		pop __tmp_reg__
 326 00d4 0F90      		pop __tmp_reg__
 327 00d6 0F90      		pop __tmp_reg__
 328 00d8 8091 0000 		lds r24,error_num
 329 00dc 8431      		cpi r24,lo8(20)
 330 00de 00F0      		brlo .L14
 108:../../src/kernel/source/nrk_error.c ****       error_num = NRK_UNKOWN;
 332               	.LM19:
 333 00e0 1092 0000 		sts error_num,__zero_reg__
 334               	.L14:
 109:../../src/kernel/source/nrk_error.c ****     switch (error_num)
 336               	.LM20:
 337 00e4 8091 0000 		lds r24,error_num
 338 00e8 9927      		clr r25
 339 00ea AA27      		clr r26
 340 00ec BB27      		clr r27
 341 00ee FC01      		movw r30,r24
 342 00f0 3197      		sbiw r30,1
 343 00f2 E231      		cpi r30,18
 344 00f4 F105      		cpc r31,__zero_reg__
 345 00f6 00F4      		brsh .L16
 346 00f8 E050      		subi r30,lo8(-(pm(.L35)))
 347 00fa F040      		sbci r31,hi8(-(pm(.L35)))
 348 00fc EE0F      		lsl r30
 349 00fe FF1F      		rol r31
 350 0100 0590      		lpm __tmp_reg__,Z+
 351 0102 F491      		lpm r31,Z
 352 0104 E02D      		mov r30,__tmp_reg__
 353 0106 0994      		ijmp
 354               		.data
 355               		.section .progmem.gcc_sw_table, "a", @progbits
 356               		.p2align 1
 357               	.L35:
 358               		.data
 359               		.section .progmem.gcc_sw_table, "a", @progbits
 360               		.p2align 1
 361 0000 0000      		.word pm(.L17)
 362 0002 0000      		.word pm(.L18)
 363 0004 0000      		.word pm(.L19)
 364 0006 0000      		.word pm(.L20)
 365 0008 0000      		.word pm(.L21)
 366 000a 0000      		.word pm(.L22)
 367 000c 0000      		.word pm(.L23)
 368 000e 0000      		.word pm(.L24)
 369 0010 0000      		.word pm(.L25)
 370 0012 0000      		.word pm(.L26)
 371 0014 0000      		.word pm(.L27)
 372 0016 0000      		.word pm(.L28)
 373 0018 0000      		.word pm(.L29)
 374 001a 0000      		.word pm(.L30)
 375 001c 0000      		.word pm(.L31)
 376 001e 0000      		.word pm(.L32)
 377 0020 0000      		.word pm(.L33)
 378 0022 0000      		.word pm(.L34)
 379               		.text
 380               	.L33:
 110:../../src/kernel/source/nrk_error.c ****        {
 111:../../src/kernel/source/nrk_error.c ****     case NRK_STACK_TOO_SMALL:
 112:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Stack was not defined as large enough!"));
 382               	.LM21:
 383 0108 CE01      		movw r24,r28
 384 010a 00C0      		rjmp .L46
 385               	.L17:
 113:../../src/kernel/source/nrk_error.c ****       break;
 114:../../src/kernel/source/nrk_error.c ****     case NRK_STACK_OVERFLOW:
 115:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Task Stack Overflow"));
 387               	.LM22:
 388 010c C701      		movw r24,r14
 389 010e 00C0      		rjmp .L46
 390               	.L34:
 116:../../src/kernel/source/nrk_error.c ****       break;
 117:../../src/kernel/source/nrk_error.c ****     case NRK_INVALID_STACK_POINTER:
 118:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Invalid Stack Pointer"));
 392               	.LM23:
 393 0110 C601      		movw r24,r12
 394 0112 00C0      		rjmp .L46
 395               	.L18:
 119:../../src/kernel/source/nrk_error.c ****       break;
 120:../../src/kernel/source/nrk_error.c ****     case NRK_RESERVE_ERROR:
 121:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Reserve Error in Scheduler"));
 397               	.LM24:
 398 0114 C501      		movw r24,r10
 399 0116 00C0      		rjmp .L46
 400               	.L19:
 122:../../src/kernel/source/nrk_error.c ****       break;
 123:../../src/kernel/source/nrk_error.c ****     case NRK_RESERVE_VIOLATED:
 124:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Task Reserve Violated"));
 402               	.LM25:
 403 0118 C401      		movw r24,r8
 404 011a 00C0      		rjmp .L46
 405               	.L20:
 125:../../src/kernel/source/nrk_error.c ****       break;
 126:../../src/kernel/source/nrk_error.c ****     case NRK_WAKEUP_MISSED:
 127:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Scheduler Missed Wakeup"));
 407               	.LM26:
 408 011c C301      		movw r24,r6
 409 011e 00C0      		rjmp .L46
 410               	.L21:
 128:../../src/kernel/source/nrk_error.c ****       break;
 129:../../src/kernel/source/nrk_error.c ****     case NRK_DUP_TASK_ID:
 130:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Duplicated Task ID"));
 412               	.LM27:
 413 0120 C201      		movw r24,r4
 414 0122 00C0      		rjmp .L46
 415               	.L22:
 131:../../src/kernel/source/nrk_error.c ****       break;
 132:../../src/kernel/source/nrk_error.c ****     case NRK_BAD_STARTUP:
 133:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Unexpected Restart"));
 417               	.LM28:
 418 0124 C101      		movw r24,r2
 419 0126 00C0      		rjmp .L46
 420               	.L24:
 134:../../src/kernel/source/nrk_error.c ****       break;
 135:../../src/kernel/source/nrk_error.c ****     case NRK_STACK_SMASH:
 136:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Idle or Kernel Stack Overflow"));
 422               	.LM29:
 423 0128 80E0      		ldi r24,lo8(__c.2351)
 424 012a 90E0      		ldi r25,hi8(__c.2351)
 425 012c 00C0      		rjmp .L46
 426               	.L23:
 137:../../src/kernel/source/nrk_error.c ****       break;
 138:../../src/kernel/source/nrk_error.c ****     case NRK_EXTRA_TASK:
 139:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Extra Task started, is nrk_cfg.h ok?"));
 428               	.LM30:
 429 012e 80E0      		ldi r24,lo8(__c.2354)
 430 0130 90E0      		ldi r25,hi8(__c.2354)
 431 0132 00C0      		rjmp .L46
 432               	.L25:
 140:../../src/kernel/source/nrk_error.c ****       break;
 141:../../src/kernel/source/nrk_error.c ****     case NRK_LOW_VOLTAGE:
 142:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Low Voltage"));
 434               	.LM31:
 435 0134 80E0      		ldi r24,lo8(__c.2357)
 436 0136 90E0      		ldi r25,hi8(__c.2357)
 437 0138 00C0      		rjmp .L46
 438               	.L26:
 143:../../src/kernel/source/nrk_error.c ****       break;
 144:../../src/kernel/source/nrk_error.c ****     case NRK_SEG_FAULT:
 145:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Unhandled Interrupt Vector"));
 440               	.LM32:
 441 013a 80E0      		ldi r24,lo8(__c.2360)
 442 013c 90E0      		ldi r25,hi8(__c.2360)
 443 013e 00C0      		rjmp .L46
 444               	.L27:
 146:../../src/kernel/source/nrk_error.c ****       break;
 147:../../src/kernel/source/nrk_error.c ****     case NRK_TIMER_OVERFLOW:
 148:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Timer Overflow"));
 446               	.LM33:
 447 0140 80E0      		ldi r24,lo8(__c.2363)
 448 0142 90E0      		ldi r25,hi8(__c.2363)
 449 0144 00C0      		rjmp .L46
 450               	.L32:
 149:../../src/kernel/source/nrk_error.c ****       break;
 150:../../src/kernel/source/nrk_error.c ****     case NRK_WATCHDOG_ERROR:
 151:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Watchdog Restart"));
 452               	.LM34:
 453 0146 80E0      		ldi r24,lo8(__c.2366)
 454 0148 90E0      		ldi r25,hi8(__c.2366)
 455 014a 00C0      		rjmp .L46
 456               	.L28:
 152:../../src/kernel/source/nrk_error.c ****       break;
 153:../../src/kernel/source/nrk_error.c ****     case NRK_DEVICE_DRIVER:
 154:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Device Driver Error"));
 458               	.LM35:
 459 014c 80E0      		ldi r24,lo8(__c.2369)
 460 014e 90E0      		ldi r25,hi8(__c.2369)
 461 0150 00C0      		rjmp .L46
 462               	.L29:
 155:../../src/kernel/source/nrk_error.c ****       break;
 156:../../src/kernel/source/nrk_error.c ****     case NRK_UNIMPLEMENTED:
 157:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Kernel function not implemented"));
 464               	.LM36:
 465 0152 80E0      		ldi r24,lo8(__c.2372)
 466 0154 90E0      		ldi r25,hi8(__c.2372)
 467 0156 00C0      		rjmp .L46
 468               	.L30:
 158:../../src/kernel/source/nrk_error.c ****       break;
 159:../../src/kernel/source/nrk_error.c ****     case NRK_SIGNAL_CREATE_ERROR:
 160:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Failed to create Signal"));
 470               	.LM37:
 471 0158 80E0      		ldi r24,lo8(__c.2375)
 472 015a 90E0      		ldi r25,hi8(__c.2375)
 473 015c 00C0      		rjmp .L46
 474               	.L31:
 161:../../src/kernel/source/nrk_error.c ****       break;
 162:../../src/kernel/source/nrk_error.c ****     case NRK_SEMAPHORE_CREATE_ERROR:
 163:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("Failed to create Semaphore"));
 476               	.LM38:
 477 015e 80E0      		ldi r24,lo8(__c.2378)
 478 0160 90E0      		ldi r25,hi8(__c.2378)
 479 0162 00C0      		rjmp .L46
 480               	.L16:
 164:../../src/kernel/source/nrk_error.c ****       break;
 165:../../src/kernel/source/nrk_error.c ****     default:
 166:../../src/kernel/source/nrk_error.c ****       nrk_kprintf (PSTR ("UNKOWN"));
 482               	.LM39:
 483 0164 80E0      		ldi r24,lo8(__c.2381)
 484 0166 90E0      		ldi r25,hi8(__c.2381)
 485               	.L46:
 486 0168 0E94 0000 		call nrk_kprintf
 167:../../src/kernel/source/nrk_error.c ****       }
 168:../../src/kernel/source/nrk_error.c ****     putchar ('\r');
 488               	.LM40:
 489 016c 6091 0000 		lds r22,__iob+2
 490 0170 7091 0000 		lds r23,(__iob+2)+1
 491 0174 8DE0      		ldi r24,lo8(13)
 492 0176 90E0      		ldi r25,hi8(13)
 493 0178 0E94 0000 		call fputc
 169:../../src/kernel/source/nrk_error.c ****     putchar ('\n');
 495               	.LM41:
 496 017c 6091 0000 		lds r22,__iob+2
 497 0180 7091 0000 		lds r23,(__iob+2)+1
 498 0184 8AE0      		ldi r24,lo8(10)
 499 0186 90E0      		ldi r25,hi8(10)
 500 0188 0E94 0000 		call fputc
 170:../../src/kernel/source/nrk_error.c **** 
 171:../../src/kernel/source/nrk_error.c **** #ifdef NRK_REBOOT_ON_ERROR
 172:../../src/kernel/source/nrk_error.c ****   // wait for watchdog to kick in
 173:../../src/kernel/source/nrk_error.c ****   if(error_num!=NRK_WATCHDOG_ERROR)
 174:../../src/kernel/source/nrk_error.c ****   {
 175:../../src/kernel/source/nrk_error.c ****   nrk_watchdog_enable();
 176:../../src/kernel/source/nrk_error.c ****   nrk_int_disable(); 
 177:../../src/kernel/source/nrk_error.c ****   while(1);
 178:../../src/kernel/source/nrk_error.c ****   }
 179:../../src/kernel/source/nrk_error.c **** #endif
 180:../../src/kernel/source/nrk_error.c **** 
 181:../../src/kernel/source/nrk_error.c **** //t=error_num;
 182:../../src/kernel/source/nrk_error.c **** #ifdef NRK_HALT_AND_LOOP_ON_ERROR
 183:../../src/kernel/source/nrk_error.c ****       nrk_led_set (2);
 502               	.LM42:
 503 018c 82E0      		ldi r24,lo8(2)
 504 018e 90E0      		ldi r25,hi8(2)
 505 0190 0E94 0000 		call nrk_led_set
 184:../../src/kernel/source/nrk_error.c ****     nrk_led_clr (3);
 507               	.LM43:
 508 0194 83E0      		ldi r24,lo8(3)
 509 0196 90E0      		ldi r25,hi8(3)
 510 0198 0E94 0000 		call nrk_led_clr
 511 019c 10E0      		ldi r17,lo8(0)
 512               	.L37:
 185:../../src/kernel/source/nrk_error.c ****     for (t = 0; t < 100; t++)
 186:../../src/kernel/source/nrk_error.c ****       nrk_spin_wait_us (1000);
 514               	.LM44:
 515 019e 88EE      		ldi r24,lo8(1000)
 516 01a0 93E0      		ldi r25,hi8(1000)
 517 01a2 0E94 0000 		call nrk_spin_wait_us
 519               	.LM45:
 520 01a6 1F5F      		subi r17,lo8(-(1))
 521 01a8 1436      		cpi r17,lo8(100)
 522 01aa 01F4      		brne .L37
 187:../../src/kernel/source/nrk_error.c ****     nrk_led_set (3);
 524               	.LM46:
 525 01ac 83E0      		ldi r24,lo8(3)
 526 01ae 90E0      		ldi r25,hi8(3)
 527 01b0 0E94 0000 		call nrk_led_set
 188:../../src/kernel/source/nrk_error.c ****     nrk_led_clr (2);
 529               	.LM47:
 530 01b4 82E0      		ldi r24,lo8(2)
 531 01b6 90E0      		ldi r25,hi8(2)
 532 01b8 0E94 0000 		call nrk_led_clr
 533 01bc 10E0      		ldi r17,lo8(0)
 534               	.L39:
 189:../../src/kernel/source/nrk_error.c ****     for (t = 0; t < 100; t++)
 190:../../src/kernel/source/nrk_error.c ****       nrk_spin_wait_us (1000);
 536               	.LM48:
 537 01be 88EE      		ldi r24,lo8(1000)
 538 01c0 93E0      		ldi r25,hi8(1000)
 539 01c2 0E94 0000 		call nrk_spin_wait_us
 541               	.LM49:
 542 01c6 1F5F      		subi r17,lo8(-(1))
 543 01c8 1436      		cpi r17,lo8(100)
 544 01ca 01F4      		brne .L39
 545 01cc 00C0      		rjmp .L13
 546               	.L41:
 191:../../src/kernel/source/nrk_error.c ****     }
 192:../../src/kernel/source/nrk_error.c ****   
 193:../../src/kernel/source/nrk_error.c **** #endif  /*  */
 194:../../src/kernel/source/nrk_error.c ****     
 195:../../src/kernel/source/nrk_error.c **** #ifdef NRK_HALT_ON_ERROR
 196:../../src/kernel/source/nrk_error.c ****     while (1)
 197:../../src/kernel/source/nrk_error.c ****      {
 198:../../src/kernel/source/nrk_error.c ****     nrk_led_set (2);
 199:../../src/kernel/source/nrk_error.c ****     nrk_led_clr (3);
 200:../../src/kernel/source/nrk_error.c ****     for (t = 0; t < 100; t++)
 201:../../src/kernel/source/nrk_error.c ****       nrk_spin_wait_us (1000);
 202:../../src/kernel/source/nrk_error.c ****     nrk_led_set (3);
 203:../../src/kernel/source/nrk_error.c ****     nrk_led_clr (2);
 204:../../src/kernel/source/nrk_error.c ****     for (t = 0; t < 100; t++)
 205:../../src/kernel/source/nrk_error.c ****       nrk_spin_wait_us (1000);
 206:../../src/kernel/source/nrk_error.c ****     }
 207:../../src/kernel/source/nrk_error.c ****   
 208:../../src/kernel/source/nrk_error.c **** #endif  /*  */
 209:../../src/kernel/source/nrk_error.c ****     error_num = 0;
 210:../../src/kernel/source/nrk_error.c ****   return t;
 211:../../src/kernel/source/nrk_error.c **** }
 548               	.LM50:
 549 01ce 80E0      		ldi r24,lo8(0)
 550 01d0 90E0      		ldi r25,hi8(0)
 551               	/* epilogue: frame size=0 */
 552 01d2 DF91      		pop r29
 553 01d4 CF91      		pop r28
 554 01d6 1F91      		pop r17
 555 01d8 FF90      		pop r15
 556 01da EF90      		pop r14
 557 01dc DF90      		pop r13
 558 01de CF90      		pop r12
 559 01e0 BF90      		pop r11
 560 01e2 AF90      		pop r10
 561 01e4 9F90      		pop r9
 562 01e6 8F90      		pop r8
 563 01e8 7F90      		pop r7
 564 01ea 6F90      		pop r6
 565 01ec 5F90      		pop r5
 566 01ee 4F90      		pop r4
 567 01f0 3F90      		pop r3
 568 01f2 2F90      		pop r2
 569 01f4 0895      		ret
 570               	/* epilogue end (size=18) */
 571               	/* function nrk_error_print size 240 (205) */
 576               	.Lscope4:
 578               		.stabd	78,0,0
 582               	.global	nrk_kernel_error_add
 584               	nrk_kernel_error_add:
 585               		.stabd	46,0,0
 587               	.LM51:
 588               	.LFBB5:
 589               	/* prologue: frame size=0 */
 590               	/* prologue end (size=0) */
 592               	.LM52:
 593 01f6 8093 0000 		sts error_num,r24
 595               	.LM53:
 596 01fa 6093 0000 		sts error_task,r22
 598               	.LM54:
 599 01fe 0E94 0000 		call nrk_error_print
 600               	/* epilogue: frame size=0 */
 601 0202 0895      		ret
 602               	/* epilogue end (size=1) */
 603               	/* function nrk_kernel_error_add size 7 (6) */
 605               	.Lscope5:
 607               		.stabd	78,0,0
 610               	.global	nrk_error_add
 612               	nrk_error_add:
 613               		.stabd	46,0,0
 615               	.LM55:
 616               	.LFBB6:
 617               	/* prologue: frame size=0 */
 618               	/* prologue end (size=0) */
 620               	.LM56:
 621 0204 8093 0000 		sts error_num,r24
 623               	.LM57:
 624 0208 E091 0000 		lds r30,nrk_cur_task_TCB
 625 020c F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 626 0210 8085      		ldd r24,Z+8
 627 0212 8093 0000 		sts error_task,r24
 629               	.LM58:
 630 0216 0E94 0000 		call nrk_error_print
 631               	/* epilogue: frame size=0 */
 632 021a 0895      		ret
 633               	/* epilogue end (size=1) */
 634               	/* function nrk_error_add size 12 (11) */
 636               	.Lscope6:
 638               		.stabd	78,0,0
 639               		.section	.progmem.data,"a",@progbits
 642               	__c.2381:
 643 0000 554E 4B4F 		.string	"UNKOWN"
 643      574E 00
 646               	__c.2378:
 647 0007 4661 696C 		.string	"Failed to create Semaphore"
 647      6564 2074 
 647      6F20 6372 
 647      6561 7465 
 647      2053 656D 
 650               	__c.2375:
 651 0022 4661 696C 		.string	"Failed to create Signal"
 651      6564 2074 
 651      6F20 6372 
 651      6561 7465 
 651      2053 6967 
 654               	__c.2372:
 655 003a 4B65 726E 		.string	"Kernel function not implemented"
 655      656C 2066 
 655      756E 6374 
 655      696F 6E20 
 655      6E6F 7420 
 658               	__c.2369:
 659 005a 4465 7669 		.string	"Device Driver Error"
 659      6365 2044 
 659      7269 7665 
 659      7220 4572 
 659      726F 7200 
 662               	__c.2366:
 663 006e 5761 7463 		.string	"Watchdog Restart"
 663      6864 6F67 
 663      2052 6573 
 663      7461 7274 
 663      00
 666               	__c.2363:
 667 007f 5469 6D65 		.string	"Timer Overflow"
 667      7220 4F76 
 667      6572 666C 
 667      6F77 00
 670               	__c.2360:
 671 008e 556E 6861 		.string	"Unhandled Interrupt Vector"
 671      6E64 6C65 
 671      6420 496E 
 671      7465 7272 
 671      7570 7420 
 674               	__c.2357:
 675 00a9 4C6F 7720 		.string	"Low Voltage"
 675      566F 6C74 
 675      6167 6500 
 678               	__c.2354:
 679 00b5 4578 7472 		.string	"Extra Task started, is nrk_cfg.h ok?"
 679      6120 5461 
 679      736B 2073 
 679      7461 7274 
 679      6564 2C20 
 682               	__c.2351:
 683 00da 4964 6C65 		.string	"Idle or Kernel Stack Overflow"
 683      206F 7220 
 683      4B65 726E 
 683      656C 2053 
 683      7461 636B 
 686               	__c.2348:
 687 00f8 556E 6578 		.string	"Unexpected Restart"
 687      7065 6374 
 687      6564 2052 
 687      6573 7461 
 687      7274 00
 690               	__c.2345:
 691 010b 4475 706C 		.string	"Duplicated Task ID"
 691      6963 6174 
 691      6564 2054 
 691      6173 6B20 
 691      4944 00
 694               	__c.2342:
 695 011e 5363 6865 		.string	"Scheduler Missed Wakeup"
 695      6475 6C65 
 695      7220 4D69 
 695      7373 6564 
 695      2057 616B 
 698               	__c.2339:
 699 0136 5461 736B 		.string	"Task Reserve Violated"
 699      2052 6573 
 699      6572 7665 
 699      2056 696F 
 699      6C61 7465 
 702               	__c.2336:
 703 014c 5265 7365 		.string	"Reserve Error in Scheduler"
 703      7276 6520 
 703      4572 726F 
 703      7220 696E 
 703      2053 6368 
 706               	__c.2333:
 707 0167 496E 7661 		.string	"Invalid Stack Pointer"
 707      6C69 6420 
 707      5374 6163 
 707      6B20 506F 
 707      696E 7465 
 710               	__c.2330:
 711 017d 5461 736B 		.string	"Task Stack Overflow"
 711      2053 7461 
 711      636B 204F 
 711      7665 7266 
 711      6C6F 7700 
 714               	__c.2326:
 715 0191 5374 6163 		.string	"Stack was not defined as large enough!"
 715      6B20 7761 
 715      7320 6E6F 
 715      7420 6465 
 715      6669 6E65 
 718               	__c.2323:
 719 01b8 293A 2000 		.string	"): "
 722               	__c.2321:
 723 01bc 2A4E 524B 		.string	"*NRK ERROR("
 723      2045 5252 
 723      4F52 2800 
 724               		.comm _nrk_signal_list,4,1
 725               		.comm error_task,1,1
 726               		.comm error_num,1,1
 727               		.comm nrk_idle_task_stk,128,1
 728               		.comm nrk_kernel_stk_ptr,2,1
 729               		.comm _nrk_prev_timer_val,1,1
 730               		.comm _nrk_time_trigger,1,1
 731               		.comm app_timer0_callback,2,1
 732               		.comm app_timer0_prescale,1,1
 763               		.text
 765               	.Letext0:
 766               	/* File "../../src/kernel/source/nrk_error.c": code  288 = 0x0120 ( 249), prologues  17, epilogues 
DEFINED SYMBOLS
                            *ABS*:00000000 nrk_error.c
     /tmp/ccJDb95a.s:2      *ABS*:0000003f __SREG__
     /tmp/ccJDb95a.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccJDb95a.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccJDb95a.s:5      *ABS*:00000000 __tmp_reg__
     /tmp/ccJDb95a.s:6      *ABS*:00000001 __zero_reg__
     /tmp/ccJDb95a.s:136    .text:00000000 _nrk_errno_set
     /tmp/ccJDb95a.s:159    .text:0000000c nrk_errno_get
     /tmp/ccJDb95a.s:185    .text:0000001a nrk_error_get
                            *COM*:00000001 error_num
                            *COM*:00000001 error_task
     /tmp/ccJDb95a.s:232    .text:0000003a nrk_error_print
     /tmp/ccJDb95a.s:686    .progmem.data:000000f8 __c.2348
     /tmp/ccJDb95a.s:690    .progmem.data:0000010b __c.2345
     /tmp/ccJDb95a.s:694    .progmem.data:0000011e __c.2342
     /tmp/ccJDb95a.s:698    .progmem.data:00000136 __c.2339
     /tmp/ccJDb95a.s:702    .progmem.data:0000014c __c.2336
     /tmp/ccJDb95a.s:706    .progmem.data:00000167 __c.2333
     /tmp/ccJDb95a.s:710    .progmem.data:0000017d __c.2330
     /tmp/ccJDb95a.s:714    .progmem.data:00000191 __c.2326
     /tmp/ccJDb95a.s:722    .progmem.data:000001bc __c.2321
     /tmp/ccJDb95a.s:718    .progmem.data:000001b8 __c.2323
     /tmp/ccJDb95a.s:682    .progmem.data:000000da __c.2351
     /tmp/ccJDb95a.s:678    .progmem.data:000000b5 __c.2354
     /tmp/ccJDb95a.s:674    .progmem.data:000000a9 __c.2357
     /tmp/ccJDb95a.s:670    .progmem.data:0000008e __c.2360
     /tmp/ccJDb95a.s:666    .progmem.data:0000007f __c.2363
     /tmp/ccJDb95a.s:662    .progmem.data:0000006e __c.2366
     /tmp/ccJDb95a.s:658    .progmem.data:0000005a __c.2369
     /tmp/ccJDb95a.s:654    .progmem.data:0000003a __c.2372
     /tmp/ccJDb95a.s:650    .progmem.data:00000022 __c.2375
     /tmp/ccJDb95a.s:646    .progmem.data:00000007 __c.2378
     /tmp/ccJDb95a.s:642    .progmem.data:00000000 __c.2381
     /tmp/ccJDb95a.s:584    .text:000001f6 nrk_kernel_error_add
     /tmp/ccJDb95a.s:612    .text:00000204 nrk_error_add
                            *COM*:00000004 _nrk_signal_list
                            *COM*:00000080 nrk_idle_task_stk
                            *COM*:00000002 nrk_kernel_stk_ptr
                            *COM*:00000001 _nrk_prev_timer_val
                            *COM*:00000001 _nrk_time_trigger
                            *COM*:00000002 app_timer0_callback
                            *COM*:00000001 app_timer0_prescale

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
nrk_cur_task_TCB
nrk_int_disable
nrk_kprintf
printf
__iob
fputc
nrk_led_set
nrk_led_clr
nrk_spin_wait_us
